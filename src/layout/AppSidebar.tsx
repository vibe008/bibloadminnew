"use client";
import React, { useEffect, useRef, useState, useCallback } from "react";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { useSidebar } from "../context/SidebarContext";

import {
  CalenderIcon,
  ChevronDownIcon,
  HorizontaLDots,
  UserCircleIcon,
} from "../icons/index";
import { useTheme } from "@/context/ThemeContext";

type NavItem = {
  name: string;
  icon: React.ReactNode;
  path?: string;
  subItems?: { name: string; path: string; pro?: boolean; new?: boolean }[];
};

const navItems: NavItem[] = [
  // {
  //   icon: <GridIcon />,
  //   name: "Dashboard",
  //   subItems: [{ name: "Ecommerce", path: "/", pro: false }],
  // },
  {
    icon: <CalenderIcon />,
    name: "Story",
    subItems: [{ name: "Create Story", path: "/story", pro: false }],

  },
  {
    icon: <CalenderIcon />,
    name: "Catagory",
    path: "/catagory",
  },
  {
    icon: <CalenderIcon />,
    name: "Tags",
    path: "/tags",
  },
  {
    icon: <CalenderIcon />,
    name: "Approve Post",
    path: "/Postverifier",
  },
  {
    icon: <UserCircleIcon />,
    name: "User Profile",
    path: "/profile",
  },

  // {
  //   name: "Forms",
  //   icon: <ListIcon />,
  //   subItems: [{ name: "Form Elements", path: "/form-elements", pro: false }],
  // },
  // {
  //   name: "Tables",
  //   icon: <TableIcon />,
  //   subItems: [{ name: "Basic Tables", path: "/basic-tables", pro: false }],
  // },
  // {
  //   name: "Pages",
  //   icon: <PageIcon />,
  //   subItems: [
  //     { name: "Blank Page", path: "/blank", pro: false },
  //     { name: "404 Error", path: "/error-404", pro: false },
  //   ],
  // },
];



const AppSidebar: React.FC = () => {
  const { isExpanded, isMobileOpen, isHovered, setIsHovered } = useSidebar();
  const pathname = usePathname();
  const { theme } = useTheme();

  const fillColor = theme === 'dark' ? '#ffffff' : '#000000';


  const renderMenuItems = (
    navItems: NavItem[],
    menuType: "main" | "others"
  ) => (
    <ul className="flex flex-col gap-4">
      {navItems.map((nav, index) => (
        <li key={nav.name}>
          {nav.subItems ? (
            <button
              onClick={() => handleSubmenuToggle(index, menuType)}
              className={`menu-item group  ${openSubmenu?.type === menuType && openSubmenu?.index === index
                ? "menu-item-active"
                : "menu-item-inactive"
                } cursor-pointer ${!isExpanded && !isHovered
                  ? "lg:justify-center"
                  : "lg:justify-start"
                }`}
            >
              <span
                className={` ${openSubmenu?.type === menuType && openSubmenu?.index === index
                  ? "menu-item-icon-active"
                  : "menu-item-icon-inactive"
                  }`}
              >
                {nav.icon}
              </span>
              {(isExpanded || isHovered || isMobileOpen) && (
                <span className={`menu-item-text`}>{nav.name}</span>
              )}
              {(isExpanded || isHovered || isMobileOpen) && (
                <ChevronDownIcon
                  className={`ml-auto w-5 h-5 transition-transform duration-200  ${openSubmenu?.type === menuType &&
                    openSubmenu?.index === index
                    ? "rotate-180 text-brand-500"
                    : ""
                    }`}
                />
              )}
            </button>
          ) : (
            nav.path && (
              <Link
                href={nav.path}
                className={`menu-item group ${isActive(nav.path) ? "menu-item-active" : "menu-item-inactive"
                  }`}
              >
                <span
                  className={`${isActive(nav.path)
                    ? "menu-item-icon-active"
                    : "menu-item-icon-inactive"
                    }`}
                >
                  {nav.icon}
                </span>
                {(isExpanded || isHovered || isMobileOpen) && (
                  <span className={`menu-item-text`}>{nav.name}</span>
                )}
              </Link>
            )
          )}
          {nav.subItems && (isExpanded || isHovered || isMobileOpen) && (
            <div
              ref={(el) => {
                subMenuRefs.current[`${menuType}-${index}`] = el;
              }}
              className="overflow-hidden transition-all duration-300"
              style={{
                height:
                  openSubmenu?.type === menuType && openSubmenu?.index === index
                    ? `${subMenuHeight[`${menuType}-${index}`]}px`
                    : "0px",
              }}
            >
              <ul className="mt-2 space-y-1 ml-9">
                {nav.subItems.map((subItem) => (
                  <li key={subItem.name}>
                    <Link
                      href={subItem.path}
                      className={`menu-dropdown-item ${isActive(subItem.path)
                        ? "menu-dropdown-item-active"
                        : "menu-dropdown-item-inactive"
                        }`}
                    >
                      {subItem.name}
                      <span className="flex items-center gap-1 ml-auto">
                        {subItem.new && (
                          <span
                            className={`ml-auto ${isActive(subItem.path)
                              ? "menu-dropdown-badge-active"
                              : "menu-dropdown-badge-inactive"
                              } menu-dropdown-badge `}
                          >
                            new
                          </span>
                        )}
                        {subItem.pro && (
                          <span
                            className={`ml-auto ${isActive(subItem.path)
                              ? "menu-dropdown-badge-active"
                              : "menu-dropdown-badge-inactive"
                              } menu-dropdown-badge `}
                          >
                            pro
                          </span>
                        )}
                      </span>
                    </Link>
                  </li>
                ))}
              </ul>
            </div>
          )}
        </li>
      ))}
    </ul>
  );

  const [openSubmenu, setOpenSubmenu] = useState<{
    type: "main" | "others";
    index: number;
  } | null>(null);
  const [subMenuHeight, setSubMenuHeight] = useState<Record<string, number>>(
    {}
  );
  const subMenuRefs = useRef<Record<string, HTMLDivElement | null>>({});

  // const isActive = (path: string) => path === pathname;
  const isActive = useCallback((path: string) => path === pathname, [pathname]);

  useEffect(() => {
    // Check if the current path matches any submenu item
    let submenuMatched = false;
    ["main", "others"].forEach((menuType) => {
      const items = menuType === "main" ? navItems : [];
      items.forEach((nav, index) => {
        if (nav.subItems) {
          nav.subItems.forEach((subItem) => {
            if (isActive(subItem.path)) {
              setOpenSubmenu({
                type: menuType as "main" | "others",
                index,
              });
              submenuMatched = true;
            }
          });
        }
      });
    });

    // If no submenu item matches, close the open submenu
    if (!submenuMatched) {
      setOpenSubmenu(null);
    }
  }, [pathname, isActive]);

  useEffect(() => {
    // Set the height of the submenu items when the submenu is opened
    if (openSubmenu !== null) {
      const key = `${openSubmenu.type}-${openSubmenu.index}`;
      if (subMenuRefs.current[key]) {
        setSubMenuHeight((prevHeights) => ({
          ...prevHeights,
          [key]: subMenuRefs.current[key]?.scrollHeight || 0,
        }));
      }
    }
  }, [openSubmenu]);

  const handleSubmenuToggle = (index: number, menuType: "main" | "others") => {
    setOpenSubmenu((prevOpenSubmenu) => {
      if (
        prevOpenSubmenu &&
        prevOpenSubmenu.type === menuType &&
        prevOpenSubmenu.index === index
      ) {
        return null;
      }
      return { type: menuType, index };
    });
  };

  return (
    <aside
      className={`fixed mt-16 flex flex-col lg:mt-0 top-0 px-5 left-0 bg-white dark:bg-gray-900 dark:border-gray-800 text-gray-900 h-screen transition-all duration-300 ease-in-out z-50 border-r border-gray-200 
       ${isExpanded || isMobileOpen
          ? "w-[290px]"
          : isHovered
            ? "w-[290px]"
            : "w-[90px]"
        }
        ${isMobileOpen ? "translate-x-0" : "-translate-x-full"}
        lg:translate-x-0`}
      onMouseEnter={() => !isExpanded && setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <div
        className={`py-8 flex  ${!isExpanded && !isHovered ? "lg:justify-center" : "justify-start"
          }`}
      >
        <Link href="/">
          {isExpanded || isHovered || isMobileOpen ? (
            <>
              <div className="">
                <svg
                  width="230.88000793457033"
                  height="47.48440526140518"
                  viewBox="0 0 369.9130434782609 76.07891659887396"
                  className="looka-1j8o68f"
                >
                  <defs id="SvgjsDefs1011"></defs>
                  <g
                    id="SvgjsG1012"
                    transform="matrix(0.9510909474581793,0,0,0.9510909474581793,-9.511232377621054,-9.510909474581794)"
                    fill={fillColor}
                  // fill="#ffff"
                  >
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M15.9140625,17.1357422c0.2558594,0,0.5126953-0.0976562,0.7080078-0.293457  c0.3896484-0.390625,0.3896484-1.0239258-0.0009766-1.4140625l-3.2373047-3.2324219  c-0.390625-0.3896484-1.0244141-0.390625-1.4150391,0.0009766c-0.3896484,0.390625-0.3896484,1.0239258,0.0009766,1.4140625  l3.2373047,3.2324219C15.4023438,17.0380859,15.6582031,17.1357422,15.9140625,17.1357422z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M22.0917969,16.5981445h0.0009766c0.5517578-0.0004883,0.9990234-0.4487305,0.9990234-1.0009766l-0.0039062-4.5751953  c0-0.5517578-0.4482422-0.9990234-1-0.9990234h-0.0009766c-0.5517578,0.0004883-0.9990234,0.4487305-0.9990234,1.0009766  l0.0039062,4.5751953C21.0917969,16.1508789,21.5400391,16.5981445,22.0917969,16.5981445z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M10.0009766,22.4702148c0.0185547,0.5395508,0.4628906,0.9643555,0.9980469,0.9643555  c0.0126953,0,0.0244141,0,0.0361328-0.0004883l4.5722656-0.1621094c0.5517578-0.0195312,0.9833984-0.4829102,0.9638672-1.0351562  c-0.0185547-0.5522461-0.5117188-0.9775391-1.0341797-0.9638672l-4.5722656,0.1621094  C10.4130859,21.4545898,9.9814453,21.9179688,10.0009766,22.4702148z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M12.9121094,88.3144531c0.2558594,0,0.5126953-0.0976562,0.7080078-0.293457l3.2324219-3.237793  c0.3896484-0.3911133,0.3896484-1.0239258-0.0019531-1.4140625c-0.3886719-0.390625-1.0234375-0.390625-1.4140625,0.0009766  l-3.2324219,3.237793c-0.3896484,0.3911133-0.3896484,1.0239258,0.0019531,1.4140625  C12.4003906,88.2172852,12.65625,88.3144531,12.9121094,88.3144531z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M11.03125,78.9038086h0.0009766l4.5751953-0.0039062c0.5517578-0.0004883,0.9990234-0.4487305,0.9990234-1.0009766  c0-0.5517578-0.4482422-0.9990234-1-0.9990234h-0.0009766l-4.5751953,0.0039062  c-0.5517578,0.0004883-0.9990234,0.4487305-0.9990234,1.0009766C10.03125,78.456543,10.4794922,78.9038086,11.03125,78.9038086z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M22.2460938,83.4194336c-0.5517578,0.0195312-0.9833984,0.4829102-0.9638672,1.0351562l0.1621094,4.5722656  c0.0185547,0.5395508,0.4628906,0.9643555,0.9980469,0.9643555c0.0126953,0,0.0244141,0,0.0361328-0.0004883  c0.5517578-0.0195312,0.9833984-0.4829102,0.9638672-1.0351562l-0.1621094-4.5722656  C23.2617188,83.8310547,22.7597656,83.3984375,22.2460938,83.4194336z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M84.5957031,16.644043l3.2333984-3.2539062c0.3896484-0.3920898,0.3876953-1.0249023-0.0039062-1.4145508  c-0.3916016-0.3886719-1.0244141-0.3862305-1.4140625,0.0043945l-3.2333984,3.2539062  c-0.3896484,0.3920898-0.3876953,1.0249023,0.0039062,1.4145508c0.1953125,0.1938477,0.4501953,0.2905273,0.7050781,0.2905273  C84.1435547,16.9389648,84.4003906,16.840332,84.5957031,16.644043z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M89,21.1435547h-0.0009766l-4.5751953,0.003418c-0.5517578,0.0004883-0.9990234,0.4482422-0.9990234,1.0009766  c0,0.5517578,0.4482422,0.9990234,1,0.9990234h0.0009766l4.5751953-0.003418C89.5527344,23.1430664,90,22.6953125,90,22.1425781  C90,21.5908203,89.5517578,21.1435547,89,21.1435547z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M77.7490234,16.5952148c0.0126953,0,0.0244141,0,0.0361328-0.0004883  c0.5517578-0.0195312,0.9833984-0.4829102,0.9638672-1.034668l-0.1621094-4.5952148C78.5683594,10.4248047,78.125,10,77.5888672,10  c-0.0126953,0-0.0244141,0-0.0361328,0.0004883c-0.5517578,0.0195312-0.9833984,0.4829102-0.9638672,1.034668l0.1621094,4.5952148  C76.7695312,16.1704102,77.2128906,16.5952148,77.7490234,16.5952148z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M86.6162109,87.7866211c0.1953125,0.1948242,0.4511719,0.2924805,0.7070312,0.2924805  s0.5126953-0.0976562,0.7080078-0.293457c0.3896484-0.390625,0.3896484-1.0239258-0.0009766-1.4140625l-3.2373047-3.2324219  c-0.390625-0.3896484-1.0244141-0.390625-1.4150391,0.0009766c-0.3896484,0.390625-0.3896484,1.0239258,0.0009766,1.4140625  L86.6162109,87.7866211z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M77.9082031,83.3842773h-0.0009766c-0.5517578,0.0004883-0.9990234,0.4487305-0.9990234,1.0009766l0.0039062,4.5751953  c0,0.5517578,0.4482422,0.9990234,1,0.9990234h0.0009766c0.5517578-0.0004883,0.9990234-0.4487305,0.9990234-1.0009766  l-0.0039062-4.5751953C78.9082031,83.831543,78.4599609,83.3842773,77.9082031,83.3842773z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M89.9990234,77.512207c-0.0195312-0.5522461-0.5273438-0.9829102-1.0341797-0.9638672l-4.5722656,0.1621094  c-0.5517578,0.0195312-0.9833984,0.4829102-0.9638672,1.0351562c0.0185547,0.5395508,0.4628906,0.9643555,0.9980469,0.9643555  c0.0126953,0,0.0244141,0,0.0361328-0.0004883l4.5722656-0.1621094  C89.5869141,78.527832,90.0185547,78.0644531,89.9990234,77.512207z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M49.8232422,12.5854492c-20.625,0-37.4052734,16.7802734-37.4052734,37.4057617  s16.7802734,37.4052734,37.4052734,37.4052734c20.6259766,0,37.40625-16.7797852,37.40625-37.4052734  S70.4492188,12.5854492,49.8232422,12.5854492z M49.8232422,85.3964844c-19.5224609,0-35.4052734-15.8828125-35.4052734-35.4052734  c0-19.5229492,15.8828125-35.4057617,35.4052734-35.4057617c19.5234375,0,35.40625,15.8828125,35.40625,35.4057617  C85.2294922,69.5136719,69.3466797,85.3964844,49.8232422,85.3964844z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M50,22.3442383c0.5527344,0,1-0.4477539,1-1s-0.4472656-1-1-1c-16.3476562,0-29.6474609,13.2998047-29.6474609,29.6469727  c0,0.5522461,0.4472656,1,1,1s1-0.4477539,1-1C22.3525391,34.746582,34.7548828,22.3442383,50,22.3442383z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M78.6474609,48.9912109c-0.5527344,0-1,0.4477539-1,1c0,15.2446289-12.4023438,27.6469727-27.6474609,27.6469727  c-0.5527344,0-1,0.4477539-1,1s0.4472656,1,1,1c16.3476562,0,29.6474609-13.2998047,29.6474609-29.6469727  C79.6474609,49.4389648,79.2001953,48.9912109,78.6474609,48.9912109z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M51,29.8066406c0-0.5522461-0.4472656-1-1-1c-11.5009766,0-20.8574219,9.3564453-20.8574219,20.8574219  c0,0.5522461,0.4472656,1,1,1s1-0.4477539,1-1c0-10.3979492,8.4589844-18.8574219,18.8574219-18.8574219  C50.5527344,30.8066406,51,30.3588867,51,29.8066406z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M49,69.5214844c0,0.5522461,0.4472656,1,1,1c11.5009766,0,20.8574219-9.3564453,20.8574219-20.8574219  c0-0.5522461-0.4472656-1-1-1s-1,0.4477539-1,1c0,10.3979492-8.4589844,18.8574219-18.8574219,18.8574219  C49.4472656,68.5214844,49,68.9692383,49,69.5214844z"
                    ></path>
                    <path
                      xmlns="http://www.w3.org/2000/svg"
                      d="M56.1162109,49.9912109c0-3.3720703-2.7441406-6.1157227-6.1162109-6.1157227s-6.1162109,2.7436523-6.1162109,6.1157227  S46.6279297,56.1069336,50,56.1069336S56.1162109,53.3632812,56.1162109,49.9912109z M45.8837891,49.9912109  c0-2.2695312,1.8466797-4.1157227,4.1162109-4.1157227s4.1162109,1.8461914,4.1162109,4.1157227  S52.2695312,54.1069336,50,54.1069336S45.8837891,52.2607422,45.8837891,49.9912109z"
                    ></path>
                  </g>
                  <g
                    id="SvgjsG1013"
                    transform="matrix(3.31212851652406,0,0,3.31212851652406,91.42926542684567,-4.945372840259456)"
                    fill={fillColor}
                  >
                    <path d="M8.12 5.720000000000001 c3.0266 0 4.54 1.1733 4.54 3.52 c0 1.3467 -0.64666 2.3466 -1.94 3 c0.88 0.25334 1.5367 0.69668 1.97 1.33 s0.65 1.3967 0.65 2.29 c0 1.28 -0.46334 2.29 -1.39 3.03 s-2.1434 1.11 -3.65 1.11 l-6.92 0 l0 -14.28 l6.74 0 z M7.72 11.5 c1.2667 0 1.9 -0.56666 1.9 -1.7 c0 -1.0933 -0.70666 -1.64 -2.12 -1.64 l-2.98 0 l0 3.34 l3.2 0 z M7.9 17.56 c1.5333 0 2.3 -0.62666 2.3 -1.88 c0 -1.36 -0.74666 -2.04 -2.24 -2.04 l-3.44 0 l0 3.92 l3.38 0 z M18.08 5.720000000000001 l0 2.34 l-2.84 0 l0 -2.34 l2.84 0 z M18.08 9.66 l0 10.34 l-2.84 0 l0 -10.34 l2.84 0 z M23.160000000000004 5.720000000000001 l0.000019531 5.2 l0.04 0 c0.30666 -0.46666 0.74332 -0.84 1.31 -1.12 s1.2167 -0.42 1.95 -0.42 c1.2667 0 2.2966 0.50666 3.09 1.52 s1.19 2.32 1.19 3.92 c0 1.6133 -0.39334 2.9266 -1.18 3.94 s-1.8267 1.52 -3.12 1.52 c-1.68 0 -2.8066 -0.53334 -3.38 -1.6 l-0.04 0 l0 1.32 l-2.7 0 l0 -14.28 l2.84 0 z M23.060000000000002 14.84 c0 1 0.21998 1.8 0.65998 2.4 s1.0267 0.9 1.76 0.9 c0.72 0 1.3033 -0.29334 1.75 -0.88 s0.67 -1.3933 0.67 -2.42 c0 -1.0133 -0.21666 -1.82 -0.65 -2.42 s-1.03 -0.9 -1.79 -0.9 c-0.74666 0 -1.3333 0.30666 -1.76 0.92 s-0.64 1.4133 -0.64 2.4 z M35.46 5.720000000000001 l0 14.28 l-2.84 0 l0 -14.28 l2.84 0 z M42.720000000000006 9.38 c1.6533 0 2.96 0.50334 3.92 1.51 s1.44 2.3234 1.44 3.95 c0 1.64 -0.49 2.9566 -1.47 3.95 s-2.2766 1.49 -3.89 1.49 c-1.64 0 -2.94 -0.50334 -3.9 -1.51 s-1.44 -2.3166 -1.44 -3.93 c0 -1.6667 0.49 -2.9934 1.47 -3.98 s2.27 -1.48 3.87 -1.48 z M40.220000000000006 14.84 c0 1.0533 0.21334 1.8666 0.64 2.44 s1.0467 0.86 1.86 0.86 c0.84 0 1.47 -0.29334 1.89 -0.88 s0.63 -1.3933 0.63 -2.42 c0 -1.0667 -0.21666 -1.8867 -0.65 -2.46 s-1.0633 -0.86 -1.89 -0.86 c-0.8 0 -1.4133 0.28666 -1.84 0.86 s-0.64 1.3933 -0.64 2.46 z M53.52 6.5600000000000005 l0.000019531 3.1 l2.08 0 l0 1.9 l-2.08 0 l0 5.12 c0 0.48 0.08 0.8 0.24 0.96 s0.48 0.24 0.96 0.24 c0.34666 0 0.64 -0.02666 0.88 -0.08 l0 2.22 c-0.4 0.06666 -0.96 0.1 -1.68 0.1 c-1.0933 0 -1.9067 -0.18666 -2.44 -0.56 s-0.8 -1.02 -0.8 -1.94 l0 -6.06 l-1.72 0 l0 -1.9 l1.72 0 l0 -3.1 l2.84 0 z M61.72 9.38 c3.0134 0.01334 4.52 0.9933 4.52 2.94 l0 5.48 c0 1.0133 0.12 1.7467 0.36 2.2 l-2.88 0 c-0.10666 -0.32 -0.17332 -0.65334 -0.19998 -1 c-0.84 0.85334 -2 1.28 -3.48 1.28 c-1.08 0 -1.9367 -0.27334 -2.57 -0.82 s-0.95 -1.3067 -0.95 -2.28 c0 -0.94666 0.3 -1.68 0.9 -2.2 c0.61334 -0.54666 1.7267 -0.89332 3.34 -1.04 c1.1467 -0.12 1.8733 -0.27 2.18 -0.45 s0.46 -0.45666 0.46 -0.83 c0 -0.46666 -0.14 -0.81332 -0.42 -1.04 s-0.74666 -0.34 -1.4 -0.34 c-0.6 0 -1.0533 0.12334 -1.36 0.37 s-0.48666 0.64332 -0.54 1.19 l-2.84 0 c0.06666 -1.1333 0.53332 -1.9933 1.4 -2.58 s2.0266 -0.88 3.48 -0.88 z M59.36 17.06 c0 0.88 0.58 1.32 1.74 1.32 c1.52 -0.01334 2.2866 -0.79334 2.3 -2.34 l0 -1.1 c-0.22666 0.22666 -0.8 0.39332 -1.72 0.49998 c-0.8 0.09334 -1.3867 0.25668 -1.76 0.49002 s-0.56 0.61 -0.56 1.13 z M71.36 5.720000000000001 l0 14.28 l-2.84 0 l0 -14.28 l2.84 0 z M76.69999999999999 5.720000000000001 l0 7.66 l3.58 -3.72 l3.36 0 l-3.9 3.8 l4.34 6.54 l-3.44 0 l-2.84 -4.62 l-1.1 1.06 l0 3.56 l-2.84 0 l0 -14.28 l2.84 0 z"></path>
                  </g>
                </svg>
              </div>

            </>
          ) : (
            <div className="">
              <svg
                width="100"
                height="100"
                viewBox="-30 15 150.9130434782609 70.07891659887396"
                className="looka-1j8o68f"
              >
                <defs id="SvgjsDefs1011"></defs>
                <g
                  id="SvgjsG1012"
                  transform="matrix(0.9510909474581793,0,0,0.9510909474581793,-9.511232377621054,-9.510909474581794)"
                  fill={fillColor}
                // fill="#ffff"
                >
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M15.9140625,17.1357422c0.2558594,0,0.5126953-0.0976562,0.7080078-0.293457  c0.3896484-0.390625,0.3896484-1.0239258-0.0009766-1.4140625l-3.2373047-3.2324219  c-0.390625-0.3896484-1.0244141-0.390625-1.4150391,0.0009766c-0.3896484,0.390625-0.3896484,1.0239258,0.0009766,1.4140625  l3.2373047,3.2324219C15.4023438,17.0380859,15.6582031,17.1357422,15.9140625,17.1357422z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M22.0917969,16.5981445h0.0009766c0.5517578-0.0004883,0.9990234-0.4487305,0.9990234-1.0009766l-0.0039062-4.5751953  c0-0.5517578-0.4482422-0.9990234-1-0.9990234h-0.0009766c-0.5517578,0.0004883-0.9990234,0.4487305-0.9990234,1.0009766  l0.0039062,4.5751953C21.0917969,16.1508789,21.5400391,16.5981445,22.0917969,16.5981445z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M10.0009766,22.4702148c0.0185547,0.5395508,0.4628906,0.9643555,0.9980469,0.9643555  c0.0126953,0,0.0244141,0,0.0361328-0.0004883l4.5722656-0.1621094c0.5517578-0.0195312,0.9833984-0.4829102,0.9638672-1.0351562  c-0.0185547-0.5522461-0.5117188-0.9775391-1.0341797-0.9638672l-4.5722656,0.1621094  C10.4130859,21.4545898,9.9814453,21.9179688,10.0009766,22.4702148z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M12.9121094,88.3144531c0.2558594,0,0.5126953-0.0976562,0.7080078-0.293457l3.2324219-3.237793  c0.3896484-0.3911133,0.3896484-1.0239258-0.0019531-1.4140625c-0.3886719-0.390625-1.0234375-0.390625-1.4140625,0.0009766  l-3.2324219,3.237793c-0.3896484,0.3911133-0.3896484,1.0239258,0.0019531,1.4140625  C12.4003906,88.2172852,12.65625,88.3144531,12.9121094,88.3144531z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M11.03125,78.9038086h0.0009766l4.5751953-0.0039062c0.5517578-0.0004883,0.9990234-0.4487305,0.9990234-1.0009766  c0-0.5517578-0.4482422-0.9990234-1-0.9990234h-0.0009766l-4.5751953,0.0039062  c-0.5517578,0.0004883-0.9990234,0.4487305-0.9990234,1.0009766C10.03125,78.456543,10.4794922,78.9038086,11.03125,78.9038086z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M22.2460938,83.4194336c-0.5517578,0.0195312-0.9833984,0.4829102-0.9638672,1.0351562l0.1621094,4.5722656  c0.0185547,0.5395508,0.4628906,0.9643555,0.9980469,0.9643555c0.0126953,0,0.0244141,0,0.0361328-0.0004883  c0.5517578-0.0195312,0.9833984-0.4829102,0.9638672-1.0351562l-0.1621094-4.5722656  C23.2617188,83.8310547,22.7597656,83.3984375,22.2460938,83.4194336z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M84.5957031,16.644043l3.2333984-3.2539062c0.3896484-0.3920898,0.3876953-1.0249023-0.0039062-1.4145508  c-0.3916016-0.3886719-1.0244141-0.3862305-1.4140625,0.0043945l-3.2333984,3.2539062  c-0.3896484,0.3920898-0.3876953,1.0249023,0.0039062,1.4145508c0.1953125,0.1938477,0.4501953,0.2905273,0.7050781,0.2905273  C84.1435547,16.9389648,84.4003906,16.840332,84.5957031,16.644043z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M89,21.1435547h-0.0009766l-4.5751953,0.003418c-0.5517578,0.0004883-0.9990234,0.4482422-0.9990234,1.0009766  c0,0.5517578,0.4482422,0.9990234,1,0.9990234h0.0009766l4.5751953-0.003418C89.5527344,23.1430664,90,22.6953125,90,22.1425781  C90,21.5908203,89.5517578,21.1435547,89,21.1435547z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M77.7490234,16.5952148c0.0126953,0,0.0244141,0,0.0361328-0.0004883  c0.5517578-0.0195312,0.9833984-0.4829102,0.9638672-1.034668l-0.1621094-4.5952148C78.5683594,10.4248047,78.125,10,77.5888672,10  c-0.0126953,0-0.0244141,0-0.0361328,0.0004883c-0.5517578,0.0195312-0.9833984,0.4829102-0.9638672,1.034668l0.1621094,4.5952148  C76.7695312,16.1704102,77.2128906,16.5952148,77.7490234,16.5952148z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M86.6162109,87.7866211c0.1953125,0.1948242,0.4511719,0.2924805,0.7070312,0.2924805  s0.5126953-0.0976562,0.7080078-0.293457c0.3896484-0.390625,0.3896484-1.0239258-0.0009766-1.4140625l-3.2373047-3.2324219  c-0.390625-0.3896484-1.0244141-0.390625-1.4150391,0.0009766c-0.3896484,0.390625-0.3896484,1.0239258,0.0009766,1.4140625  L86.6162109,87.7866211z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M77.9082031,83.3842773h-0.0009766c-0.5517578,0.0004883-0.9990234,0.4487305-0.9990234,1.0009766l0.0039062,4.5751953  c0,0.5517578,0.4482422,0.9990234,1,0.9990234h0.0009766c0.5517578-0.0004883,0.9990234-0.4487305,0.9990234-1.0009766  l-0.0039062-4.5751953C78.9082031,83.831543,78.4599609,83.3842773,77.9082031,83.3842773z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M89.9990234,77.512207c-0.0195312-0.5522461-0.5273438-0.9829102-1.0341797-0.9638672l-4.5722656,0.1621094  c-0.5517578,0.0195312-0.9833984,0.4829102-0.9638672,1.0351562c0.0185547,0.5395508,0.4628906,0.9643555,0.9980469,0.9643555  c0.0126953,0,0.0244141,0,0.0361328-0.0004883l4.5722656-0.1621094  C89.5869141,78.527832,90.0185547,78.0644531,89.9990234,77.512207z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M49.8232422,12.5854492c-20.625,0-37.4052734,16.7802734-37.4052734,37.4057617  s16.7802734,37.4052734,37.4052734,37.4052734c20.6259766,0,37.40625-16.7797852,37.40625-37.4052734  S70.4492188,12.5854492,49.8232422,12.5854492z M49.8232422,85.3964844c-19.5224609,0-35.4052734-15.8828125-35.4052734-35.4052734  c0-19.5229492,15.8828125-35.4057617,35.4052734-35.4057617c19.5234375,0,35.40625,15.8828125,35.40625,35.4057617  C85.2294922,69.5136719,69.3466797,85.3964844,49.8232422,85.3964844z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M50,22.3442383c0.5527344,0,1-0.4477539,1-1s-0.4472656-1-1-1c-16.3476562,0-29.6474609,13.2998047-29.6474609,29.6469727  c0,0.5522461,0.4472656,1,1,1s1-0.4477539,1-1C22.3525391,34.746582,34.7548828,22.3442383,50,22.3442383z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M78.6474609,48.9912109c-0.5527344,0-1,0.4477539-1,1c0,15.2446289-12.4023438,27.6469727-27.6474609,27.6469727  c-0.5527344,0-1,0.4477539-1,1s0.4472656,1,1,1c16.3476562,0,29.6474609-13.2998047,29.6474609-29.6469727  C79.6474609,49.4389648,79.2001953,48.9912109,78.6474609,48.9912109z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M51,29.8066406c0-0.5522461-0.4472656-1-1-1c-11.5009766,0-20.8574219,9.3564453-20.8574219,20.8574219  c0,0.5522461,0.4472656,1,1,1s1-0.4477539,1-1c0-10.3979492,8.4589844-18.8574219,18.8574219-18.8574219  C50.5527344,30.8066406,51,30.3588867,51,29.8066406z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M49,69.5214844c0,0.5522461,0.4472656,1,1,1c11.5009766,0,20.8574219-9.3564453,20.8574219-20.8574219  c0-0.5522461-0.4472656-1-1-1s-1,0.4477539-1,1c0,10.3979492-8.4589844,18.8574219-18.8574219,18.8574219  C49.4472656,68.5214844,49,68.9692383,49,69.5214844z"
                  ></path>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="M56.1162109,49.9912109c0-3.3720703-2.7441406-6.1157227-6.1162109-6.1157227s-6.1162109,2.7436523-6.1162109,6.1157227  S46.6279297,56.1069336,50,56.1069336S56.1162109,53.3632812,56.1162109,49.9912109z M45.8837891,49.9912109  c0-2.2695312,1.8466797-4.1157227,4.1162109-4.1157227s4.1162109,1.8461914,4.1162109,4.1157227  S52.2695312,54.1069336,50,54.1069336S45.8837891,52.2607422,45.8837891,49.9912109z"
                  ></path>
                </g>

              </svg>
            </div>
          )}
        </Link>
      </div>
      <div className="flex flex-col overflow-y-auto duration-300 ease-linear no-scrollbar">
        <nav className="mb-6">
          <div className="flex flex-col gap-4">
            <div>
              <h2
                className={`mb-4 text-xs uppercase flex leading-[20px] text-gray-400 ${!isExpanded && !isHovered
                  ? "lg:justify-center"
                  : "justify-start"
                  } `}
              >
                {isExpanded || isHovered || isMobileOpen ? (
                  "Menu"
                ) : (
                  <HorizontaLDots />
                )}
              </h2>
              {renderMenuItems(navItems, "main")}
            </div>

            {/* <div className="">
              <h2
                className={`mb-4 text-xs uppercase flex leading-[20px] text-gray-400 ${
                  !isExpanded && !isHovered
                    ? "lg:justify-center"
                    : "justify-start"
                }`}
              >
                {isExpanded || isHovered || isMobileOpen ? (
                  "Others"
                ) : (
                  <HorizontaLDots />
                )}
              </h2>
              {renderMenuItems(othersItems, "others")}
            </div> */}
          </div>
        </nav>
        {/* {isExpanded || isHovered || isMobileOpen ? <SidebarWidget /> : null} */}
      </div>
    </aside>
  );
};

export default AppSidebar;
